---
title: 路由切换后如何保持高度重置？
date: 2021-08-16 16:00:00
---

## 路由切换后如何保持高度重置？

### `react-router` --- ScrollRestoration

在开发 `react` 时，我们使用 `react-router` 进行路由切换

问题：路由切换后如何保持高度重置？路由跳转后不会重置高度！！！

解决方案：采用 `ScrollRestoration ` 官方自带的的组件来解决这个问题。

[react-router 官方文档](https://reactrouter.com/api/components/ScrollRestoration#signature)

```tsx
import { ScrollRestoration } from 'react-router';
```

> 注意：必须放在“Route 最外层布局”，否则子路由变化不会触发它。

```tsx
import Header from './Header';
import Footer from './Footer';
import LineLayout from './LineLayout';
import { Outlet, ScrollRestoration } from 'react-router';

const Layout = () => {
  return (
    <>
      <LineLayout>
        <Header />

        <div className='flex flex-col'>
          <div className='flex-1'>
            <Outlet />
            <ScrollRestoration />
          </div>
        </div>

        <Footer />
      </LineLayout>
    </>
  );
};

export default Layout;
export { Header, Footer, LineLayout };
```

### 原生解决方法 --- History.scrollRestoration

[MDN 文档](https://developer.mozilla.org/zh-CN/docs/Web/API/History/scrollRestoration)
